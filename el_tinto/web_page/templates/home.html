<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    />
    <link rel="icon" type="image/x-icon" href="https://el-tinto-utils.s3.amazonaws.com/favicon.ico">

    <title>El Tinto</title>
    <style>
        body {
            font-family: 'Roboto';
        }
        h1 {
            font-size: 4.5rem;
        }
        h2 {
            font-size: 2.2rem;
        }
        .subtext {
            font-size: 1.1rem;
            color: #c8d4fc;
        }
        .text-color {
            color: #FFFFFF
        }
        .strong-text{
            font-weight: 800;
        }
        .a-nav {
            font-size: 1.875rem;
        }
        .button{
            background-color: #6864f4;
            width: 100%;
        }
        .dynamic-align {
            text-align: center;
        }
        .navbar-padding {
            padding-left: 10%;
            padding-right: 10%;
        }
        @media only screen and (max-width: 768px) {
            h1 {
                font-size: 3rem;
            }
            h2 {
                font-size: 1.875rem;
            }
            .dynamic-align {
              text-align: justify;
            }
            .navbar-padding {
                padding-left: 5%;
                padding-right: 5%;
            }
        }

    </style>
  </head>
  <body>
    <nav class="navbar navbar-light navbar-padding shadow-sm py-1 bg-white rounded">
        <a class="navbar-brand ml-5 strong-text a-nav" href="/">
          <img src="https://el-tinto-utils.s3.amazonaws.com/logo.png" width="36" height="24" class="d-inline-block" style="vertical-align: 0">
          El Tinto
        </a>
    </nav>
    <div class="container">
        <div class="row justify-content-center py-5">
            <div class="col-md-7 col-11">
                <div class="row justify-content-center py-5">
                    <div class="col-md-2 col-12 offset-md-2 justify-content-center" style="margin-top: 10px;">
                        <img src="https://el-tinto-utils.s3.amazonaws.com/logo.png" class="img-fluid mx-auto d-block" style="max-width: 90px;"/>
                    </div>
                    <div class="col-md-6 col-12 text-md-start text-center mt-2 mt-md-0" style="padding: 0">
                        <h1 class="strong-text">El Tinto</h1>
                    </div>
                </div>
                <div class="row">
                    {% if not valid %}
                        <div class="col-12 px-4 px-md-0 py-md-5 pt-5 pb-0" style="background-color: #5044e4; border-radius: 12px;">
                            <div class="row text-color justify-content-center">
                                <div class="col-12 col-md-11">
                                    <h2 class="strong-text dynamic-align">Historias importantes para gente ocupada</h2>
                                </div>
                            </div>
                            <div class="row text-center justify-content-center" style="padding: 10px 0">
                                <div class="col-md-10 col-12">
                                    <p class="dynamic-align subtext">
                                        Un correo diario con lo más relevante del momento en Colombia, 
                                        curado con los medios más rigurosos e independientes.
                                    </p>
                                </div>
                            </div>
                                <div class="container" style="padding: 20px 0">
                                    <form method="POST" class="needs-validation" novalidate>
                                    {% csrf_token %}
                                        <div class="row justify-content-center">
                                            <div class="col-12 col-md-8 pb-5">
                                                <div class="input-group has-validation">
                                                    <input type="email" class="form-control" id="email" name="email" style="padding: 12px" placeholder="tu@correo.com" required>
                                                    <div class="invalid-feedback text-color">
                                                        Por favor ingrese un correo válido
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row text-color strong-text justify-content-center" style="font-size: 20px">
                                            <div class="col-12 col-md-8">
                                                <p>¡Ayúdanos a llegar a tu correo!</p>
                                            </div>
                                        </div>
                                        <div class="row justify-content-center">
                                            <div class="col-md-4 col-12">
                                                <input class="form-control" id="first_name" name="first_name" style="padding: 12px" placeholder="Nombre (Opcional)">
                                            </div>
                                            <div class="col-md-4 col-12 mt-md-0 mt-2">
                                                <input class="form-control" id="last_name" name="last_name" style="padding: 12px" placeholder="Apellido (Opcional)">
                                            </div>
                                        </div>
                                        <div class="row justify-content-center">
                                            <div class="col-12 col-md-8">
                                                <button type="submit" class="btn button mt-4 text-color strong-text shadow-sm" style="padding: 12px">Suscríbeme</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="col-12 px-4 px-md-0 py-md-5 pt-5 pb-0" style="background-color: #d2f8d2; border-radius: 12px;">
                            <div class="row justify-content-center">
                                <div class="col-12 col-md-11">
                                    <h3 style="color: #4D934D; text-align: justify;">¡Suscrit@!</h3>
                                </div>
                                <div class="col-12 col-md-11">
                                    <p class="strong-text" style="color: #4D934D; font-size: 18px; text-align: justify;">
                                        Desde mañana disfruta El Tinto todos los días con las
                                        historias más importantes de Colombia.
                                    </p>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

  </body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict'
    
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')
    
        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
        .forEach(function (form) {
            form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
    
            form.classList.add('was-validated')
            }, false)
        })
    })()
  </script>
  <script>
    window.onload = function() {
        var error = "{{ error }}";
        if (error){
            Swal.fire({
                title: 'Error!',
                text: error,
                icon: 'error',
                confirmButtonText: 'Cool'
              })
        }
    };
      
  </script>
</html>
